LUX_RULES = {
    "Офис": {"lux": 500, "norm": "СП 52.13330.2016"},
    "Кафе": {"lux": 300, "norm": "СП 52.13330.2016"},
    "Обеденный зал (ресторан/столовая)": {"lux": 200, "norm": "СНиП 23-05-95"},
    "Цех (ресторан/столовая)": {"lux": 300, "norm": "СП 52.13330.2016"},
    "Склад": {"lux": 200, "norm": "СП 52.13330.2016"},
    "Школа (класс)": {"lux": 400, "norm": "СП 52.13330.2016"},
    "Больница (палата)": {"lux": 200, "norm": "СП 52.13330.2016"},
    "Жилое помещение": {"lux": 200, "norm": "СанПиН 2.2.1"},
    "Кухня": {"lux": 200, "norm": "СП 52.13330.2016"},
    "Санузел": {"lux": 50, "norm": "СП 52.13330.2016"},
    "Торговый зал": {"lux": 750, "norm": "СНиП 23-05-95"},
    "Улица": {"lux": 100, "norm": "СП 52.13330.2016"},
    "Аварийный выход": {"lux": 50, "norm": "ГОСТ Р 55710-2013"},
    "Коридор (общественный)": {"lux": 75, "norm": "СП 52.13330.2016"},
    "Коридор (жилой)": {"lux": 30, "norm": "СП 52.13330.2016"},
    "Лестничная клетка": {"lux": 35, "norm": "СП 52.13330.2016"},
    "Производственные (общее)": {"lux": 250, "norm": "СП 52.13330.2016"},
    "Производственные (точные работы)": {"lux": 450, "norm": "СП 52.13330.2016"},
    "Производственные (грубые работы)": {"lux": 180, "norm": "СП 52.13330.2016"},
    "Сцена театра": {"lux": 1000, "norm": "СНиП 23-05-95"},
    "Зал театра": {"lux": 200, "norm": "СНиП 23-05-95"},
    "Зал кинотеатра": {"lux": 50, "norm": "СНиП 23-05-95"},
    "Фойе театра/кинотеатра": {"lux": 150, "norm": "СП 52.13330.2016"},
    "Концертный зал": {"lux": 300, "norm": "СНиП 23-05-95"},
    "Конференц-зал": {"lux": 400, "norm": "СП 52.13330.2016"},
    "Выставочный зал": {"lux": 500, "norm": "СП 52.13330.2016"},
    "Спальня": {"lux": 150, "norm": "СП 52.13330.2016"},
    "Гостиная": {"lux": 200, "norm": "СП 52.13330.2016"},
    "Балкон/лоджия": {"lux": 100, "norm": "СП 52.13330.2016"},
    "Библиотека": {"lux": 300, "norm": "СП 52.13330.2016"},
    "Музейный зал": {"lux": 400, "norm": "СП 52.13330.2016"},
    "Цех деревообработки": {"lux": 300, "norm": "СП 52.13330.2016"},
    "Электромонтажный цех": {"lux": 400, "norm": "СП 52.13330.2016"},
    "Холодильный склад": {"lux": 150, "norm": "СП 52.13330.2016"},
    "Парковка": {"lux": 50, "norm": "СП 52.13330.2016"},
    "Сад/парк": {"lux": 30, "norm": "СП 52.13330.2016"},
    "Стадион": {"lux": 200, "norm": "СНиП 23-05-95"}
}

CEILING_RULES = {
    "domestic": (2.5, 3.0),          # жилые помещения (СНиП 31-01-2003)
    "administrative": (2.7, 13.0),   # офисы, школы, больницы, театры
    "industrial": (4.0, 12.0),       # склады, цеха, заводы
    "outdoor": (0.0, 0.0)            # улицы, парковки, стадионы (нет потолка)
}

# --- Привязка типов помещений к группам брендов ---
ROOM_TO_BRAND = {
    # --- Домашние (domestic) ---
    "Жилое помещение": "domestic",
    "Кухня": "domestic",
    "Санузел": "domestic",
    "Коридор (жилой)": "domestic",
    "Спальня": "domestic",
    "Гостиная": "domestic",
    "Балкон/лоджия": "domestic",

    # --- Административные (administrative) ---
    "Офис": "administrative",
    "Кафе": "administrative",
    "Обеденный зал (ресторан/столовая)": "administrative",
    "Цех (ресторан/столовая)": "administrative",
    "Школа (класс)": "administrative",
    "Больница (палата)": "administrative",
    "Сцена театра": "administrative",
    "Зал театра": "administrative",
    "Зал кинотеатра": "administrative",
    "Фойе театра/кинотеатра": "administrative",
    "Концертный зал": "administrative",
    "Конференц-зал": "administrative",
    "Выставочный зал": "administrative",
    "Библиотека": "administrative",
    "Музейный зал": "administrative",

    # --- Промышленные (industrial) ---
    "Склад": "industrial",
    "Торговый зал": "industrial",
    "Производственные (общее)": "industrial",
    "Производственные (точные работы)": "industrial",
    "Производственные (грубые работы)": "industrial",
    "Цех деревообработки": "industrial",
    "Электромонтажный цех": "industrial",
    "Холодильный склад": "industrial",

    # --- Наружные (outdoor) ---
    "Улица": "outdoor",
    "Аварийный выход": "outdoor",
    "Коридор (общественный)": "outdoor",
    "Лестничная клетка": "outdoor",
    "Парковка": "outdoor",
    "Сад/парк": "outdoor",
    "Стадион": "outdoor"
}

ROOM_TO_FIXTURES = {
    "Офис": ["Потолочный", "Подвесной", "Встраиваемый"],
    "Кафе": ["Подвесной", "Потолочный"],
    "Обеденный зал (ресторан/столовая)": ["Подвесной", "Потолочный"],
    "Цех (ресторан/столовая)": ["Промышленный (High-bay)", "Пылевлагозащищённый (IP65)"],
    "Школа (класс)": ["Потолочный", "Встраиваемый"],
    "Больница (палата)": ["Потолочный", "Настенный линейный"],
    "Жилое помещение": ["Потолочный", "Настенный (бра)"],
    "Кухня": ["Потолочный", "Встраиваемый"],
    "Санузел": ["Потолочный", "Пылевлагозащищённый (IP65)"],
    "Склад": ["Промышленный (High-bay)", "Прожектор"],
    "Торговый зал": ["Подвесной", "Встраиваемый"],
    "Производственные (общее)": ["Промышленный (High-bay)", "Взрывозащищённый"],
    "Производственные (точные работы)": ["Промышленный (High-bay)", "Встраиваемый"],
    "Производственные (грубые работы)": ["Прожектор", "Взрывозащищённый"],
    "Улица": ["Консольный", "Парковый фонарь"],
    "Аварийный выход": ["Аварийный", "Настенный линейный"],
    "Коридор (общественный)": ["Настенный линейный", "Аварийный"],
    "Коридор (жилой)": ["Настенный (бра)", "Настенный линейный"],
    "Лестничная клетка": ["Настенный линейный", "Аварийный"],
    "Сцена театра": ["Прожектор", "Подвесной", "Потолочный"],
    "Зал театра": ["Потолочный", "Настенный линейный"],
    "Зал кинотеатра": ["Настенный линейный", "Потолочный"],
    "Фойе театра/кинотеатра": ["Подвесной", "Потолочный"],
    "Концертный зал": ["Подвесной", "Прожектор"],
    "Конференц-зал": ["Подвесной", "Потолочный", "Встраиваемый"],
    "Выставочный зал": ["Прожектор", "Подвесной", "Встраиваемый"],
    "Спальня": ["Потолочный", "Настенный (бра)"],
    "Гостиная": ["Подвесной", "Потолочный"],
    "Балкон/лоджия": ["Настенный линейный", "Пылевлагозащищённый (IP65)"],
    "Библиотека": ["Подвесной", "Потолочный", "Настенный линейный"],
    "Музейный зал": ["Прожектор", "Подвесной", "Встраиваемый"],
    "Цех деревообработки": ["Промышленный (High-bay)", "Прожектор"],
    "Электромонтажный цех": ["Взрывозащищённый", "Пылевлагозащищённый (IP65)"],
    "Холодильный склад": ["Пылевлагозащищённый (IP65)", "Прожектор"],
    "Парковка": ["Консольный", "Прожектор"],
    "Сад/парк": ["Парковый фонарь", "Консольный"],
    "Стадион": ["Прожектор", "Консольный"]
}

# --- Группы брендов ---
BRAND_GROUPS = {
    "domestic": ["HomeLight", "EcoLight", "BrightLine", "ЭРА", "LumenPro", "Зенит"],           # Домашние
    "administrative": ["MaxLight", "OptiLight", "ПроСвет", "Юпитер", "ProLED", "ZetaLED"],     # Административные
    "industrial": ["LuxPro", "СветТех", "Феникс", "Philips", "Osram", "TechnoLight"],          # Промышленные
    "outdoor": ["StreetLine", "MarketLED", "Oculus", "SafeExit", "Плутон", "Андромеда"]        # Уличные
}

# --- Разбивка светового потока по типам светильникв (в лм)
TYPICAL_LM = {
    "Потолочный": (2500, 3500),
    "Встраиваемый": (2000, 3500),
    "Подвесной": (3000, 4000),
    "Настенный (бра)": (500, 1000),
    "Настенный линейный": (1000, 2000),
    "Промышленный (High-bay)": (15000, 25000),
    "Прожектор": (10000, 20000),
    "Взрывозащищённый": (8000, 15000),
    "Пылевлагозащищённый (IP65)": (2500, 5000),
    "Консольный": (8000, 12000),
    "Парковый фонарь": (4000, 8000),
    "Аварийный": (150, 400)
}

# --- Коэффициенты брендов ---
BRAND_PRICE_COEF = {
    "LuxPro": 1.3, "BrightLine": 1.1, "EcoLight": 0.9, "HomeLight": 1.0,
    "MarketLED": 1.0, "StreetLine": 1.1, "SafeExit": 1.2, "СветТех": 1.2,
    "ЭРА": 0.8, "Philips": 1.5, "Osram": 1.4, "Oculus": 1.1, "Феникс": 1.2,
    "LumenPro": 1.1, "Зенит": 1.0, "MaxLight": 1.2, "OptiLight": 1.1,
    "ПроСвет": 1.0, "Юпитер": 1.3, "ProLED": 1.1, "ZetaLED": 1.2,
    "TechnoLight": 1.3, "Плутон": 1.2, "Андромеда": 1.3
}

# --- Коэффициенты типов светильников ---
FIXTURE_COEFF = {
    "Потолочный": 1.0,
    "Встраиваемый": 1.1,
    "Подвесной": 1.2,
    "Настенный (бра)": 0.8,
    "Настенный линейный": 0.9,
    "Промышленный (High-bay)": 1.5,
    "Прожектор": 1.3,
    "Взрывозащищённый": 1.6,
    "Пылевлагозащищённый (IP65)": 1.2,
    "Консольный": 1.4,
    "Парковый фонарь": 1.2,
    "Аварийный": 0.7
}